/*
 * merge-intervals.cpp
 *
 *  Created on: Jun 6, 2019
 *      Author: subha
 */

#include <bits/stdc++.h>
using namespace std;

class Solution {
public:
    vector<vector<int>> merge(vector<vector<int>>& intervals) {
        vector<pair<int, bool>> points;

        for(auto in: intervals) {
            points.emplace_back(make_pair(in[0], true));
            points.emplace_back(make_pair(in[1], false));
        }

        sort(points.begin(), points.end(),
            [] (const pair<int, bool>& a, const pair<int, bool>& b) {
                if(a.first == b.first) {
                    return a.second && !b.second;
                } else {
                    return a.first < b.first;
                }
            });

        vector<vector<int>> res;
        vector<int> pt(2);
        int count = 0;
        for(auto p: points) {
            if(p.second) {
                ++count;
                if(count == 1) {
                    pt[0] = p.first;
                }
            } else {
                --count;
                if(count == 0) {
                    pt[1] = p.first;
                    res.emplace_back(pt);
                }
            }
        }
        return res;
    }
};

int main() {
	Solution obj;

	vector<vector<int>> A;

	A = {{74,78},{61,63},{46,50},{51,54},{50,50},{60,64},{39,42},{25,27},{91,95},{14,16},{85,85},{5,7},{45,46},{45,49},{66,66},{73,73},{25,26},{25,26},{45,48},{67,67},{63,65},{82,84},{90,92},{47,49},{3,4},{1,5},{64,66},{73,77},{90,94},{20,21},{84,87},{48,49},{80,80},{85,85},{53,55},{21,23},{31,34},{71,75},{62,65},{8,9},{32,33},{7,8},{20,22},{57,57},{51,53},{18,21},{71,75},{49,50},{44,45},{28,31},{38,42},{15,17},{4,7},{48,52},{9,10},{37,38},{69,70},{89,89},{28,29},{52,52},{75,76},{20,21},{90,94},{49,53},{56,59},{84,85},{79,83},{20,21},{90,93},{55,59},{76,80},{40,41},{40,41},{36,39},{79,82},{0,4},{11,11},{1,4},{42,44},{40,40},{32,36},{48,50},{76,77},{0,1},{89,91},{65,68},{51,53},{64,67},{90,92},{11,15},{92,96},{23,24},{36,37},{9,9},{79,80},{80,83},{26,27},{75,79},{2,4},{20,23},{34,36},{61,63},{46,48},{80,81},{29,33},{57,59},{60,60},{78,79},{57,61},{79,82},{41,42},{51,55},{92,96},{73,74},{6,6},{90,93},{34,35},{30,30},{81,84},{68,68},{7,7},{84,86},{57,61},{15,16},{54,58},{54,56},{6,9},{66,66},{37,41},{97,97},{36,40},{88,88},{42,43},{2,5},{34,36},{34,37},{99,102},{12,13},{33,37},{23,27},{74,76},{86,88},{87,91},{34,38},{95,96},{72,73},{70,70},{53,56},{83,83},{36,40},{77,79},{62,65},{93,94},{84,87},{6,8},{69,71},{37,37},{16,20},{11,11},{1,2},{34,37},{89,93},{85,87},{69,70},{97,100},{90,91},{80,80},{54,54},{31,31},{3,7},{50,52},{21,23},{79,83},{63,63},{40,41},{48,52},{41,43},{30,32},{31,33},{48,51},{10,10},{6,8},{95,97},{20,22},{3,6},{68,71},{48,50},{92,94},{31,31},{70,73},{24,24},{49,49},{60,60},{44,45},{84,88},{72,76},{35,38},{88,88},{91,94},{9,13},{84,87},{99,101},{20,21},{11,14},{98,101},{27,29},{4,5},{40,44},{8,9},{7,9},{81,85},{38,39},{58,62},{98,99},{39,39},{47,50},{90,91},{7,7},{37,41},{65,67},{52,54},{62,65},{21,23},{24,28},{38,40},{74,75},{63,67},{87,88},{43,46},{74,77},{98,99},{6,9},{67,68},{50,51},{85,85},{96,100},{60,63},{50,51},{12,13},{62,62},{58,59},{22,24},{1,2},{95,96},{51,51},{79,83},{43,46},{89,90},{4,5},{19,20},{59,59},{82,86},{73,75},{52,54},{59,63},{88,92},{3,5},{43,44},{75,76},{52,54},{13,17},{28,29},{74,74},{19,19},{61,65},{71,71},{6,6},{91,93},{90,93},{69,70},{10,14},{70,70},{23,24},{21,25},{9,9},{78,80},{9,12},{30,30},{28,28},{65,67},{41,44},{14,18},{94,95},{83,87},{1,4},{85,86},{14,16},{28,31},{25,29},{89,93},{75,77},{8,9},{77,78},{24,25},{93,97},{48,49},{78,82},{85,89},{20,24},{8,12},{74,77},{37,40},{52,53},{26,29},{67,69},{64,66},{34,34},{31,33},{68,68},{70,71},{96,96},{47,48},{84,86},{50,52},{53,56},{83,85},{3,3},{16,19},{38,42},{86,87},{62,64},{0,3},{79,82},{12,14},{90,92},{60,62},{4,6},{13,17},{92,96},{98,100},{74,75},{25,25},{53,56},{38,40},{39,40},{98,101},{30,33},{2,2},{34,35},{9,13},{49,49},{11,11},{29,31},{94,97},{93,97},{71,73},{77,80},{49,50},{41,43},{23,25},{15,18},{86,87},{23,23},{8,10},{6,10},{82,84},{39,39},{13,14},{22,26},{94,94},{4,6},{35,36},{65,66},{64,67},{24,28},{91,92},{12,16},{37,40},{69,71},{97,99},{67,68},{35,38},{77,80},{79,80},{7,8},{19,22},{43,44},{97,98},{42,43},{71,72},{1,5},{58,58},{43,45},{5,9},{45,48},{92,96},{34,36},{22,25},{27,29},{15,16},{80,81},{2,2},{92,96},{36,40},{12,12},{1,4},{74,75},{31,34},{10,13},{34,36},{91,92},{71,74},{5,9},{93,97},{48,48},{71,71},{46,49},{55,58},{72,76},{73,74},{4,5},{2,2},{89,92},{48,52},{21,24},{59,59},{61,61},{95,99},{76,79},{3,4},{49,53},{8,8},{99,100},{34,37},{60,64},{60,61},{85,87},{46,50},{47,49},{25,25},{82,86},{85,85},{67,69},{14,14},{73,76},{72,76},{44,46},{21,25},{48,50},{67,67},{66,68},{28,29},{41,43},{77,80},{74,77},{9,12},{87,88},{3,7},{79,82},{50,54},{88,92},{78,80},{58,62},{28,30},{7,10},{19,19},{27,30},{77,81},{75,79},{57,58},{9,10},{9,11},{13,17},{3,7},{34,34},{48,50},{31,34},{7,7},{77,77},{49,50},{83,86},{62,63},{16,20},{80,83},{45,49},{44,44},{8,8},{4,5},{70,72},{17,21},{65,67},{27,28},{95,96},{38,40},{21,23},{61,63},{8,11},{68,69},{14,14},{20,21},{41,42},{66,70},{22,24},{22,24},{30,34},{48,50},{8,10},{43,46},{13,15},{28,30},{21,25},{44,48},{12,16},{6,7},{16,19},{37,39},{94,95},{7,8},{78,82},{60,60},{21,22},{7,11},{88,91},{33,37},{37,38},{41,44},{50,50},{40,44},{49,50},{92,92},{76,77},{22,22},{89,90},{39,42},{11,12},{80,82},{12,12},{61,64},{43,44},{7,7},{59,62},{90,91},{85,85},{75,76},{28,30},{3,7},{1,3},{27,27},{59,60},{10,10},{69,70},{54,56},{31,33},{87,88},{66,70},{6,6},{94,97},{87,91},{79,81},{17,19},{82,82},{64,67},{97,98},{25,26},{57,58},{78,81},{27,31},{60,60},{4,8},{36,36},{45,49},{95,99},{42,44},{70,73},{97,99},{33,37},{7,9},{14,16},{88,92},{13,15},{27,31},{75,76},{28,31},{16,18},{39,43},{2,2},{50,53},{24,24},{32,34},{18,22},{86,87},{8,12},{0,4},{51,54},{66,67},{37,40},{60,60},{0,1},{5,8},{25,29},{25,28},{29,29},{78,79},{72,74},{53,54},{92,96},{94,96},{85,85},{27,30},{35,35},{57,60},{90,94},{90,92},{10,10},{63,64},{39,42},{16,17},{15,16},{27,30},{8,8},{31,31},{71,71},{5,9},{20,24},{97,98},{29,33},{81,85},{24,25},{14,15},{66,68},{74,76},{65,65},{78,80},{88,88},{20,24},{37,40},{1,2},{29,30},{70,71},{90,94},{9,10},{74,74},{43,43},{13,15},{88,89},{34,37},{89,90},{5,9},{83,87},{77,78},{43,44},{59,63},{27,27},{3,7},{42,45},{69,70},{65,65},{94,94},{97,99},{17,17},{39,42},{0,0},{54,55},{99,101},{0,3},{45,45},{95,97},{91,95},{97,101},{76,80},{88,90},{43,43},{92,94},{17,18},{96,100},{78,78},{37,41},{67,70},{85,89},{32,34},{47,50},{84,88},{35,35},{21,23},{70,72},{24,24},{94,98},{67,70},{56,60},{79,83},{70,74},{92,96},{88,92},{2,2},{78,82},{62,65},{64,67},{24,25},{74,74},{84,85},{42,42},{58,61},{79,81},{26,28},{13,15},{91,91},{67,70},{94,96},{95,98},{33,33},{34,36},{3,7},{46,49},{50,52},{25,26},{20,23},{98,101},{56,58},{7,7},{16,16},{92,92},{55,56},{95,96},{71,71},{49,53},{68,68},{51,52},{34,38},{51,53},{21,25},{75,76},{97,101},{71,71},{51,51},{40,40},{50,50},{80,82},{48,48},{10,14},{18,19},{75,76},{47,51},{9,12},{28,31},{70,72},{42,43},{95,99},{20,24},{96,99},{49,53},{43,45},{26,26},{9,13},{51,51},{46,50},{83,84},{7,7},{0,1},{64,65},{29,30},{83,84},{84,84},{62,63},{49,50},{32,33},{0,2},{3,4},{3,5},{52,53},{84,87},{27,27},{72,76},{50,54},{50,51},{5,7},{53,53},{55,57},{71,74},{46,48},{29,32},{23,24},{5,6},{7,10},{91,92},{14,16},{62,65},{47,51},{27,27},{58,58},{16,17},{62,66},{56,58},{59,63},{87,87},{52,55},{83,85},{1,1},{6,6},{49,53},{72,72},{76,80},{9,10},{20,23},{26,29},{18,20},{94,96},{64,67},{2,5},{82,86},{80,81},{10,10},{14,15},{55,55},{72,73},{69,70},{24,26},{30,30},{73,73},{73,74},{80,82},{94,96},{24,24},{82,83},{85,89},{68,68},{51,51},{32,34},{41,43},{89,89},{96,96},{61,61},{7,10},{5,8},{45,45},{84,87},{22,22},{57,61},{40,44},{77,77},{55,55},{42,43},{75,79},{75,79},{14,18},{86,86},{74,77},{82,86},{43,47},{67,71},{69,72},{67,71},{34,38},{43,47},{63,65},{52,55},{18,22},{77,77},{69,73},{66,69},{69,72},{45,45},{53,57},{29,30},{70,73},{37,38},{52,56},{87,88},{80,82},{12,12},{55,59},{66,66},{59,62},{70,70},{47,51},{15,18},{94,96},{64,68},{91,91},{95,98},{94,94},{56,57},{89,93},{32,34},{26,27},{17,18},{61,64},{6,6},{78,82},{0,3},{70,72},{98,102},{79,81},{63,65},{60,60},{35,39},{95,96},{0,2},{87,91},{59,63},{80,83},{47,50},{12,13},{65,67},{87,89},{20,22},{84,85},{73,76},{33,34},{85,85},{98,98},{99,100},{64,65},{35,38},{87,88},{17,20},{74,76},{13,16},{75,79},{33,35},{96,96},{71,72},{76,80},{44,44},{32,32},{55,57},{2,4},{28,31},{58,61},{22,25},{61,62},{66,67},{60,61},{26,26},{10,14},{97,99},{65,68},{88,89},{64,68},{3,4},{66,67},{79,83},{70,74},{39,39},{75,78},{78,79},{5,6},{24,24},{28,31},{1,4},{62,62},{45,49},{71,71},{73,73},{70,73},{84,87},{91,91},{57,58},{74,78},{42,43},{62,64},{38,42},{69,73},{85,87},{17,20},{87,89},{40,43},{63,66},{70,73},{99,101},{17,17},{81,84},{50,50},{22,23},{39,40},{78,82},{88,91},{73,75},{34,34},{6,10},{0,4},{36,39},{79,80},{56,57},{40,42},{94,96},{42,44},{17,21},{17,18},{73,77},{7,10},{15,18},{23,26},{57,59},{51,55},{61,64},{58,62},{96,100},{1,4},{90,91},{12,16},{50,50},{63,67},{51,52},{11,12},{42,42},{79,81},{70,74},{97,100},{12,12},{44,44},{4,8},{27,27},{43,46},{5,5},{21,24},{70,73},{25,25},{42,45},{66,66},{5,5},{28,29},{69,69},{91,93},{78,78},{67,71},{32,35},{28,32},{24,27},{87,88},{9,9},{51,52},{83,86},{16,19},{57,57},{35,39},{95,95},{2,2},{66,69},{84,85},{0,3},{71,74},{27,28},{92,95},{27,29},{84,85},{44,45},{19,22},{16,16},{58,61},{22,25},{39,39},{9,11},{87,87},{87,88},{23,26},{74,78},{73,76},{98,100},{56,56},{49,50},{13,14},{29,31},{74,74},{19,23},{71,73},{29,31},{12,15},{4,5},{65,67},{22,26},{32,35},{35,37},{2,5},{74,74},{10,11},{51,54},{22,24},{55,58},{30,30},{32,35},{17,18},{15,16},{52,54},{32,36},{16,17},{58,61},{6,7},{5,5},{31,32},{71,73},{7,11},{65,69},{59,60},{77,78},{48,49},{94,94},{75,76},{98,100},{33,35},{96,100},{40,42},{49,50},{53,54},{59,63},{38,38},{78,80},{56,60},{27,27},{17,18},{8,8},{70,72},{82,82},{16,16},{72,76},{14,14},{51,55},{79,81},{52,54},{11,12},{69,70},{93,95},{98,98},{43,45},{17,17},{86,87},{25,26},{80,84},{53,54},{91,91},{98,98},{97,98},{11,13},{5,9},{61,62},{75,77},{69,70},{82,85},{23,23},{97,97},{38,41},{18,18},{91,92},{75,79},{99,100},{21,25},{72,76},{2,2},{48,51},{99,100},{76,78},{44,45},{48,49},{66,67},{3,6},{63,64},{99,103},{57,57},{37,41},{35,36},{50,53},{38,42},{79,79},{10,12},{48,49},{89,89},{88,91},{23,26},{11,15},{11,15},{4,6},{8,11},{13,15},{94,94},{1,2},{38,41},{41,42},{78,79},{17,17},{48,50},{1,5},{42,42},{74,76},{30,30},{6,8},{52,53},{69,69},{66,68},{29,31},{84,84},{45,47},{33,35},{99,102},{8,11},{3,4},{85,87},{46,46},{99,99},{97,101},{58,59},{71,71},{19,21},{22,22},{26,29},{98,98},{33,36},{85,88},{30,31},{34,37},{4,8},{47,48},{46,46},{73,73},{17,20},{75,75},{79,82},{37,37},{43,44},{35,39},{14,14},{32,36},{29,31},{18,19},{5,9},{2,6},{93,94},{2,2},{46,47},{37,37},{99,103},{91,91},{63,63},{80,83},{92,92},{27,30},{53,54},{58,60},{80,83},{45,45},{32,36},{46,48},{0,4},{69,72},{77,79},{14,15},{71,73},{6,7},{37,40},{44,45},{53,57},{92,93},{35,35},{40,41},{30,33},{53,57},{89,89},{91,91},{49,52},{40,43},{20,24},{54,57},{11,13},{82,83},{50,53},{34,34},{2,3},{14,14},{28,29},{58,58},{44,45},{24,28},{11,14},{76,78},{81,82},{90,93},{23,24},{48,49},{8,10},{87,87},{61,65},{66,69},{0,2},{5,6},{38,41},{91,91},{75,76},{69,72},{36,38},{51,53},{65,68},{22,25},{90,90},{75,75},{53,55},{61,62},{88,92},{29,33},{11,13},{22,23},{50,53},{36,36},{81,83},{64,66},{54,56},{86,86},{60,63},{8,10},{31,31},{53,54},{50,51},{2,5},{97,100},{27,30},{70,71},{9,12},{15,18},{98,99},{55,59},{66,66},{33,35},{82,83},{13,13},{48,52},{26,29},{32,35},{71,72},{66,69},{69,70},{28,30},{47,47},{65,67},{88,88},{11,14},{82,84},{5,7},{81,83},{13,17},{30,34},{38,41},{19,21},{36,37},{8,10},{11,11},{48,50},{74,75},{82,83},{10,12},{58,59},{17,17},{50,53},{60,62},{10,10},{26,28},{39,41},{0,1},{91,92},{54,54},{91,91},{30,34},{9,10},{87,90},{47,50},{65,65},{71,74},{98,102},{58,61},{58,58},{83,87},{13,13},{53,53},{86,86},{2,4},{97,100},{9,13},{84,88},{35,39},{62,64},{74,77},{39,39},{63,65},{71,74},{47,51},{93,96},{66,69},{58,62},{24,25},{16,19},{88,91},{23,27},{44,48},{68,72},{83,84},{13,15},{11,14},{3,4},{42,43},{51,51},{56,60},{73,75},{55,58},{93,97},{31,33},{9,10},{27,29},{20,22},{91,92},{51,51},{72,74},{84,84},{70,72},{13,15},{66,70},{2,4},{60,62},{96,96},{62,63},{46,49},{55,57},{16,16},{39,41},{7,10},{78,78},{10,12},{27,31},{89,93},{34,36},{62,62},{18,19},{74,77},{96,98},{46,49},{15,19},{4,7},{52,52},{58,61},{9,9},{26,28},{27,30},{41,43},{83,85},{56,58},{84,87},{69,73},{87,87},{85,88},{69,70},{41,45},{27,29},{7,11},{18,20},{23,25},{34,35},{67,69},{90,90},{21,24},{43,45},{42,46},{48,51},{34,34},{58,62},{70,72},{2,5},{63,67},{61,64},{9,13},{40,44},{58,58},{85,85},{89,89},{38,38},{0,1},{87,89},{60,60},{57,58},{22,22},{65,67},{42,46},{8,11},{49,53},{81,81},{0,1},{46,49},{96,97},{36,36},{59,63},{95,96},{55,55},{6,8},{22,25},{14,16},{79,80},{41,44},{51,55},{31,33},{18,20},{14,17},{34,34},{29,31},{43,43},{20,24},{91,93},{66,69},{2,4},{65,67},{35,36},{74,75},{63,63},{40,41},{65,68},{18,18},{36,40},{6,8},{96,96},{56,60},{52,53},{46,49},{44,46},{41,44},{36,39},{75,78},{42,46},{90,90},{17,19}};

	vector<vector<int>> B = obj.merge(A);
	for(auto in: B) {
		cout << "[" << in[0] << ", " << in[1] << "]" << endl;
	}

	return 0;
}


